SET SERVEROUTPUT ON;
DECLARE
LICZBA VARCHAR2(5) := '12345';
DLUGOSC NUMBER(2);
ODWROCONA VARCHAR(5);
BEGIN
DLUGOSC:= LENGTH(LICZBA);
FOR LICZ IN REVERSE 1.. DLUGOSC
LOOP
ODWROCONA:= ODWROCONA || SUBSTR(LICZBA, LICZ, 1);
END LOOP;
DBMS_OUTPUT.PUT_LINE('LICZBA = ' || LICZBA);
DBMS_OUTPUT.PUT_LINE('ODWROCONA = ' || ODWROCONA);
END;

-- UŻYCIE BEZWARUNKOWEJ INSTRUKCJI - CONTINUE
SET SERVEROUTPUT ON;
BEGIN
FOR I IN 1..4 LOOP
DBMS_OUTPUT.PUT_LINE('PRZED CONTINUE i= ' || I);
CONTINUE;
DBMS_OUTPUT.PUT_LINE('PO CONTINUE i=' || I);
END LOOP;
END;

-- POLECENIA PO CONTINUE NIE WYKONAY SIĘ ANI RAZU
-- W PRAKTYCE STOSUJE SIĘ CONTINUE WHEN

SET SERVEROUTPUT ON;
BEGIN
FOR I IN 1..4 LOOP
DBMS_OUTPUT.PUT_LINE('PRZED CONTINUE i= ' || I);
CONTINUE WHEN I>2;
DBMS_OUTPUT.PUT_LINE('PO CONTINUE i=' || I);
END LOOP;
END;

--PROCEDURY SLADOWE

CREATE OR REPLACE PROCEDURE do_gory
IS
BEGIN UPDATE EMPLOYEES
SET LAST_NAME=UPPER(LAST_NAME);
END;

SELECT * FROM EMPLOYEES;
--NIE BEDZIE ZMIAN, BO PROCEDURA JESZCZE NIE ZOSTALA WYKONANA

BEGIN
do_gory;
END;

SELECT * FROM EMPLOYEES;
--ZMIANY ZOSTALY ZASTOSOWANE


--DODAWANIE TABEL I WIERSZY
drop table zarobki;
drop table Nagrody;
drop table osoby;
drop table dzialy;
drop table ttt;

CREATE TABLE DZIALY
(IDDZIALU NUMBER(10) PRIMARY KEY,
 NAZWA VARCHAR2(15 byte)
);

CREATE TABLE OSOBY
 (IDOSOBY NUMBER(10) PRIMARY KEY,
    IDDZIALU NUMBER(10),
    NAZWISKO VARCHAR2(15),
    IMIE     VARCHAR2(15),
    ROKURODZ  NUMBER(4),
    WZROST  NUMBER(3,2),
    IDSZEFA  NUMBER(10)
);

CREATE TABLE ZAROBKI
  (IDZAROBKU NUMBER(10) PRIMARY KEY,
    IDOSOBY NUMBER(10),
    BRUTTO NUMBER(12, 4),
    DATAWYP DATE
) ;

CREATE TABLE NAGRODY (IDNAGRODY NUMBER Primary key,
    IDOSOBY  NUMBER NOT NULL, OPIS VARCHAR2(15),
    CONSTRAINT FK FOREIGN KEY(IDOSOBY)
    REFERENCES OSOBY(IDOSOBY));

	CREATE TABLE ttt
 (  NAZWISKO VARCHAR2(15),
    IMIE     VARCHAR2(15),
    ROKURODZ  NUMBER(4)
 );


INSERT INTO dzialy (IDDZIALU, NAZWA) VALUES( 1, 'Dyrekcja');
INSERT INTO dzialy (IDDZIALU, NAZWA) VALUES( 2, 'Administracja');
INSERT INTO dzialy (IDDZIALU, NAZWA) VALUES( 3, 'Techniczny');
INSERT INTO dzialy (IDDZIALU, NAZWA) VALUES( 4, 'Handlowy');
INSERT INTO dzialy (IDDZIALU, NAZWA) VALUES( 6, 'Pomocniczy');


INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 1, 1, 'Kowalski', 'Jan', 1976, 1.67, NULL);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 2, 2, 'Nowak', 'Karol', 1979, 1.92, 1);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 3, 3, 'Kow', 'Piotr', 1967, 1.72, 1);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 4, 2, 'Janik', 'Paweł', 1971, 1.68, 2);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 5, 3, 'Kowalczyk', 'Jarosław', 1982, 1.79, 3);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 6, 4, 'Nowicki', 'Jan', 1972, 1.93, 3);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 7, 5, 'Kowalski', 'Piotr', NULL, NULL, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 8, 5, '%procent', 'Paweł', NULL, 1.7, 3);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 9, 1, 'Nowicki', 'Jacek', 1976, 1.69, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 10, 2, 'Janicki', 'Karol', 1989, 1.92, 1);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 11, 4, 'Kowalik', 'Paweł', 1977, 1.72, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 12, 2, 'Jasiński', 'Jarosław', 1961, 1.68, 2);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 13, 4, 'Ziółkowski', 'Edward', 1980, 1.72, 3);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 14, 4, 'Kowalik', 'Paweł', 1977, 1.72, 4);
INSERT INTO osoby (IDOSOBY, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES(15,  'Adamczyk', 'Konrad', 1970, 1.78, 5);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 16, 2, 'Baranowski', 'Zenon', 1975, 1.85, 2);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 17, 4, 'Jakow', 'Edmund', 1975, 1.69, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 18, 2, 'Paw', 'Robert', 1975, 1.75, 2);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 19, 4, 'Ki', 'Jurgen', 1977, 1.84, 3);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 20, 4, 'Polakow', 'Tymon', 1959, 1.81, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 21, 3, 'Kowalczyk', 'Jarosław', 1982, 1.79, 3);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 22, 4, 'Nowicki', 'Jan', 1972, 1.93, 3);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 23, 5, 'Kowalski', 'Piotr', NULL, NULL, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 24, 5, 'Kowal', 'Piotr', 1973, NULL, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 25, 2, 'Zieliński', 'Jan', NULL, 1.73, 5);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 26, 1, 'Polakow', 'Wiesław', 1968, 1.86, 1);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 27, 3, 'Pawlak', 'Kazimierz', 1974, 1.75, 2);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 28, 2, 'Adamiak', 'Bartosz', NULL, 1.82, 3);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 29, 4, 'Jasiński', 'Nikodem', 1983, 1.93, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 30, 4, 'Bury', 'Zenon', 1986, 1.88, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 31, 3, 'Gawlik', 'Paweł', 1966, 1.76, 2);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 32, 2, 'Wilk', 'Piotr', 1969, 1.7, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 33, 3, 'Raczyński', 'Andrzej', 1980, NULL, 4);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 34, 4, 'Zięba', 'Maciej', 1970, 1.73, 5);
INSERT INTO osoby (IDOSOBY, IDDZIALU, NAZWISKO, IMIE, ROKURODZ, WZROST, IDSZEFA) VALUES( 35, 5, 'Lew', 'Dariusz', 1977, 1.87, 4);
INSERT INTO osoby (IDOSOBY,  NAZWISKO) VALUES( 36,  '%procent');


INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 1, 1, 111, TO_DATE('07.01.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 2, 3, 222, TO_DATE('07.02.2002','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 3, 1, 333, TO_DATE('17.12.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 4, 2, 444, TO_DATE('22.11.2002','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 5, 4, 555, TO_DATE('03.01.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 6, 1, 666, TO_DATE('19.11.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 7, 5, 777, TO_DATE('24.07.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 8, 2, 888, TO_DATE('14.02.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 9, 1, 999, TO_DATE('03.01.2002','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 10, 6, 111, TO_DATE('07.10.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 11, 6, 333, TO_DATE('19.02.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 12, 6, 999, TO_DATE('07.01.2005','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 13, 6, 666, TO_DATE('11.03.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 14, 7, 111, TO_DATE('09.04.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 15, 11, 222, TO_DATE('17.03.2002','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 16, 17, 333, TO_DATE('17.06.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 17, 16, 444, TO_DATE('12.11.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 18, 14, 555, TO_DATE('08.05.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 19, 12, 666, TO_DATE('09.10.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 20, 15, 777, TO_DATE('14.05.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 21, 12, 888, TO_DATE('14.07.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 22, 3, 999, TO_DATE('03.07.2002','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 23, 1, 111, TO_DATE('07.12.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 24, 16, 333, TO_DATE('19.09.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 25, 26, 999, TO_DATE('07.11.2005','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU,  BRUTTO, DATAWYP) VALUES( 26, 1666, TO_DATE('11.09.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 27, 11, 111, TO_DATE('23.09.2002','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 28, 4, 222, TO_DATE('08.03.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 29, 6, 333, TO_DATE('01.07.2002','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 30, 8, 444, TO_DATE('19.06.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 31, 1, 555, TO_DATE('13.03.2005','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 32, 2, 666, TO_DATE('05.05.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 33, 5, 777, TO_DATE('27.11.2004','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 34, 3, 888, TO_DATE('11.10.2005','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 35, 6, 666, TO_DATE('01.12.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 36, 7, 555, TO_DATE('01.12.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 37, 7, 111, TO_DATE('01.12.2003','dd.mm.yyyy'));
INSERT INTO zarobki (IDZAROBKU, IDOSOBY, BRUTTO, DATAWYP) VALUES( 38, NULL, 999, TO_DATE('21.08.2005','dd.mm.yyyy'));

INSERT INTO Nagrody  VALUES( 1, 1, 'I Nagroda');
INSERT INTO Nagrody  VALUES( 2, 3, 'II Nagroda');
INSERT INTO Nagrody  VALUES( 3, 7, 'III Nagroda');
INSERT INTO Nagrody  VALUES( 4, 1, 'Wyróżnienie');
INSERT INTO Nagrody  VALUES( 5, 5, 'Nagroda');
INSERT INTO Nagrody  VALUES( 6, 1, 'Pochwała');
INSERT INTO Nagrody  VALUES( 7, 8, 'Nagroda');
INSERT INTO Nagrody  VALUES( 8, 3, 'Wyróżnienie');
INSERT INTO Nagrody  VALUES( 9, 3, 'Pochwała');
INSERT INTO Nagrody  VALUES( 10, 8, 'Pochwała');
INSERT INTO Nagrody  VALUES( 12, 2, 'Premia');
INSERT INTO Nagrody  VALUES( 13, 3, 'Wyróżnienie');
INSERT INTO Nagrody  VALUES( 14, 1, 'III Nagroda');
INSERT INTO Nagrody  VALUES( 15, 1, 'Premia');
INSERT INTO Nagrody  VALUES( 16, 5, 'Premia');
INSERT INTO Nagrody  VALUES( 17, 11, 'I Nagroda');
INSERT INTO Nagrody  VALUES( 18, 13, 'Wyróżnienie');
INSERT INTO Nagrody  VALUES( 19, 23, 'Pochwała');
INSERT INTO Nagrody  VALUES( 20, 18, 'Nagroda');
INSERT INTO Nagrody  VALUES( 22, 12, 'Pochwała');
INSERT INTO Nagrody  VALUES( 23, 13, 'Wyróżnienie');
INSERT INTO Nagrody  VALUES( 24, 3, 'III Nagroda');
INSERT INTO Nagrody  VALUES( 25, 1, 'Premia');
INSERT INTO Nagrody  VALUES( 26, 15, 'Premia');

Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Kowalski','Karol',1976);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Nowak','Jan',1979);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Kowalik','Piotr',1967);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Janik','Paweł',1973);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Kowalczyk','Jarosław',1982);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Nowicki','Jan',1972);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Kowalski','Piotr',null);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Nowicki','Jacek',1976);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Janicki','Karol',1989);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Kowalik','Paweł',1977);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Polakow',null,null);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Nowicki','Jan',1972);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Kowal','Piotr',1973);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Adamiak','Bartosz',null);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Gawlik','Paweł',null);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Wilk',null,1969);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values ('Raczyński','Andrzej',1980);
Insert into TTT (NAZWISKO,IMIE,ROKURODZ) values (null,'Maciej',1970);


commit;





SELECT * FROM TTT;
--WSZYSTKO DZIALA :)

SELECT * FROM OSOBY;

CREATE OR REPLACE PROCEDURE UP
IS
BEGIN
SET NAZWISKO=UPPER(NAZWISKO);
END;

BEGIN
UP;
END;
